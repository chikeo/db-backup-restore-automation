- name:  Base Installation and Server Hardening
  hosts: all
  vars:
    ansible_python_interpreter: "/usr/bin/env python"
    mysql_root_password: fart
  gather_facts: yes
  become: true
  roles:
    - sshd
    - common
    - mysql
    - ufw
  tags:
    - sshd
    - common
    - mysql
    - ufw

- name:  Initialise and Backup Database Data Files
  hosts: mysql1
  vars:
    ansible_python_interpreter: "/usr/bin/env python"
    mysql_root_password: fart
  gather_facts: yes
  become: true
  roles:
    - mysql1-backup
  tags:
    - mysql1-backup

- name:  Initialise and Restore Database Data Files
  hosts: backup1
  vars:
    ansible_python_interpreter: "/usr/bin/env python"
    mysql_root_password: fart
  gather_facts: yes
  become: true
  roles:
    - backup1-restore
  tags:
    - backup1-restore